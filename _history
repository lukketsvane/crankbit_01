{"entries":[{"timestamp":1743555985141,"editorVersion":"7.1.23","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1170,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</variable><variable id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</variable><variable id=\"djqsLhey[a5`No`$BM5H\">invaders</variable><variable id=\"4JQIaf:^rtt3(:U@6_kV\">inv</variable><variable id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</variable><variable id=\"2*/EZ9eDVxfsoSTcYQVW\">m</variable><variable id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</variable><variable id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</variable><variable id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</variable><variable id=\"/R0o98rnQOFC?Y_*e#ce\">i</variable><variable id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</variable><variable id=\"EM~a1J3w~w;Q.zMb1]=A\">j</variable><variable id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</variable><variable id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</variable><variable id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</variable><variable id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</variable><variable id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</variable><variable id=\"F|F+%21v8T;kUck#4DPD\">score</variable><variable id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</variable></variables><comment x=\"20\" y=\"6265\" w=\"480\" h=\"120\">\n"]]},{"start1":1271,"length1":33525,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let score = 0\" numlines=\"1\" declaredvars=\"score\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let missiles: number[][] = []\" numlines=\"1\" declaredvars=\"missiles\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let invaders: number[][] = []\" numlines=\"1\" declaredvars=\"invaders\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game constants\nPlayer position (bottom row)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game update speed (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</field><comment pinned=\"false\" h=\"80\" w=\"160\">How often invaders move down</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Higher = fewer invaders</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game state variables</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">Game intro</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">INVADERS</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"444\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main game loop</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"showGameOver\" functionid=\"iD-vd`E({C/7g0^CZfeT\"></mutation><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">Wait for button press to restart</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value></block></statement><next><block type=\"function_call\"><mutation name=\"initGame\" functionid=\"ADlD%@X3.FEk(0l]h^BJ\"></mutation></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"checkPause\" functionid=\"64P3pp#rGx4|drU*cAVm\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check for pause</comment><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value><statement name=\"DO0\"><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return;\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"checkButtonPresses\" functionid=\":FD#=a9dsC*tPyGdp6fd\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check player controls and firing</comment><next><block type=\"function_call\"><mutation name=\"spawnInvader\" functionid=\"S[*o9}h:%bYd2M7[OpBN\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Game logic</comment><next><block type=\"function_call\"><mutation name=\"moveInvaders\" functionid=\"`ge^Y21#5~3%QPV63p;]\"></mutation><next><block type=\"function_call\"><mutation name=\"moveMissiles\" functionid=\"p=iIKDzD(-oBI(=d(6sW\"></mutation><next><block type=\"function_call\"><mutation name=\"checkCollisions\" functionid=\"D^ypQR$}fPn0Htp%8.v$\"></mutation><next><block type=\"function_call\"><mutation name=\"drawScreen\" functionid=\"7=]P#_BS:F`vfgh3L~3,\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Update display</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">Game speed control</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">NaN</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1025\"><mutation name=\"drawScreen\" functionid=\"7=]P#_BS:F`vfgh3L~3,\"></mutation><field name=\"function_name\">drawScreen</field><comment pinned=\"false\" h=\"80\" w=\"160\">Draw all game elements on screen</comment><statement name=\"STACK\"><block type=\"device_clear_display\"><next><block type=\"device_plot\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw player</comment><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw invaders</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><statement name=\"DO\"><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></statement><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw missiles</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><statement name=\"DO\"><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1540\"><mutation name=\"spawnInvader\" functionid=\"S[*o9}h:%bYd2M7[OpBN\"></mutation><field name=\"function_name\">spawnInvader</field><comment pinned=\"false\" h=\"80\" w=\"160\">Create a new invader at random position</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><block type=\"variables_get\"><field name=\"VAR\" id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1847\"><mutation name=\"moveInvaders\" functionid=\"`ge^Y21#5~3%QPV63p;]\"></mutation><field name=\"function_name\">moveInvaders</field><comment pinned=\"false\" h=\"80\" w=\"160\">Move all invaders down the screen</comment><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"/R0o98rnQOFC?Y_*e#ce\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"invaders[i][1]++;\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Check if invader reached bottom (game over)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/R0o98rnQOFC?Y_*e#ce\">i</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"2474\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><field name=\"function_name\">fireMissile</field><comment pinned=\"false\" h=\"80\" w=\"160\">Fire a missile from player position</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"2781\"><mutation name=\"moveMissiles\" functionid=\"p=iIKDzD(-oBI(=d(6sW\"></mutation><field name=\"function_name\">moveMissiles</field><comment pinned=\"false\" h=\"80\" w=\"160\">Move missiles up the screen</comment><statement name=\"STACK\"><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move all missiles up</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"EM~a1J3w~w;Q.zMb1]=A\">j</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"EM~a1J3w~w;Q.zMb1]=A\">j</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"missiles[j][1]--;\" numlines=\"1\"></mutation></block></statement></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let k = missiles.length - 1; k &gt;= 0; k--) {\" line1=\"        if (missiles[k][1] &lt; 0) {\" line2=\"            missiles.removeAt(k);\" line3=\"        }\" line4=\"    }\" numlines=\"5\"></mutation></block></next></block></statement></block><block type=\"function_definition\" x=\"730\" y=\"2781\"><mutation name=\"checkCollisions\" functionid=\"D^ypQR$}fPn0Htp%8.v$\"></mutation><field name=\"function_name\">checkCollisions</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check for collisions between missiles and invaders</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let mi = missiles.length - 1; mi &gt;= 0; mi--) {\" line1=\"        for (let ii = invaders.length - 1; ii &gt;= 0; ii--) {\" line2=\"            if (missiles[mi] &amp;&amp; invaders[ii] &amp;&amp;\" line3=\"                missiles[mi][0] === invaders[ii][0] &amp;&amp; \" line4=\"                missiles[mi][1] === invaders[ii][1]) {\" line5=\"                \" line6=\"                // Remove missile and invader\" line7=\"                missiles.removeAt(mi);\" line8=\"                invaders.removeAt(ii);\" line9=\"                \" line10=\"                // Add to score\" line11=\"                score++;\" line12=\"                break;\" line13=\"            }\" line14=\"        }\" line15=\"    }\" numlines=\"16\"></mutation></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"3576\"><mutation name=\"checkPause\" functionid=\"64P3pp#rGx4|drU*cAVm\"></mutation><field name=\"function_name\">checkPause</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check for pause button combination (A+B)</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">P</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"4451\"><mutation name=\"checkButtonPresses\" functionid=\":FD#=a9dsC*tPyGdp6fd\"></mutation><field name=\"function_name\">checkButtonPresses</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check button presses using buttonIsPressed with state tracking</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check A button for firing</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check B button for firing</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Movement - with delay to prevent too fast movement</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">150</field></shadow></value></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">150</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"5686\"><mutation name=\"showGameOver\" functionid=\"iD-vd`E({C/7g0^CZfeT\"></mutation><field name=\"function_name\">showGameOver</field><comment pinned=\"false\" h=\"80\" w=\"160\">Show game over message and score</comment><statement name=\"STACK\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">GAME OVER</field></shadow></value><next><block type=\"device_print_message\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Score: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F|F+%21v8T;kUck#4DPD\">score</field></block></value></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"549\" y=\"5686\"><mutation name=\"initGame\" functionid=\"ADlD%@X3.FEk(0l]h^BJ\"></mutation><field name=\"function_name\">initGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">Initialize the game</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F|F+%21v8T;kUck#4DPD\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1060,"diffs":[[1,"/**\n * Space Invaders for micro:bit - TypeScript version\n * \n * Use A to move left, B to move right, A+B to pause\n */\n// Check button presses using buttonIsPressed with state tracking\nfunction checkButtonPresses () {\n    // Check A button for firing\n    if (input.buttonIsPressed(Button.A)) {\n        if (canFireA) {\n            fireMissile()\n            canFireA = false\n        }\n    } else {\n        canFireA = true\n    }\n    // Check B button for firing\n    if (input.buttonIsPressed(Button.B)) {\n        if (canFireB) {\n            fireMissile()\n            canFireB = false\n        }\n    } else {\n        canFireB = true\n    }\n    // Movement - with delay to prevent too fast movement\n    if (input.buttonIsPressed(Button.A) && playerX > 0) {\n        playerX += -1\n        basic.pause(150)\n    }\n    if (input.buttonIsPressed(Button.B) && playerX < 4) {\n        playerX += 1\n        basic.pause(150)\n    }\n}\n// Check for collisions between missiles and invaders\nfunction checkCollisions () {\n    for (let mi = missiles.length - 1; mi >= 0; mi--) {\n        for (let ii = invaders.length - 1; ii >= 0; ii--) {\n            if (missiles[mi] && invaders[ii] &&\n                missiles[mi][0] === invaders[ii][0] && \n                missiles[mi][1] === invaders[ii][1]) {\n                \n                // Remove missile and invader\n                missiles.removeAt(mi);\n                invaders.removeAt(ii);\n                \n                // Add to score\n                score++;\n                break;\n"]]},{"start1":1525,"length1":68,"diffs":[[1,""]]},{"start1":1535,"length1":30,"diffs":[[1,""]]},{"start1":1541,"length1":103,"diffs":[[1,"}\n// Fire a missile from player position\nfunction fireMissile () {\n    if (missiles.length < 3) {\n        missiles.push([playerX, PLAYER_Y - 1])\n    }\n}\n// Show game over message and score\nfunction showGameOver () {\n    basic.showString(\"GAME OVER\")\n    basic.showString(\"Score: \" + score)\n}\n// Move all invaders down the screen\nfunction moveInvaders () {\n    moveCounter += 1\n    if (moveCounter >= INVADER_DROP_SPEED) {\n        moveCounter = 0\n        for (let i = 0; i <= invaders.length - 1; i++) {\n            invaders[i][1]++;\n// Check if invader reached bottom (game over)\n            if (invaders[i][1] >= PLAYER_Y) {\n                gameOver = true\n            }\n        }\n    }\n}\n// Check for pause button combination (A+B)\nfunction checkPause () {\n    if (input.buttonIsPressed(Button.A) && input.buttonIsPressed(Button.B)) {\n        if (!(bothPressed)) {\n            bothPressed = true\n            lastButtonTime = input.runningTime()\n        }\n    } else {\n        if (bothPressed) {\n            bothPressed = false\n            if (input.runningTime() - lastButtonTime >= 1000) {\n                gamePaused = !(gamePaused)\n                if (gamePaused) {\n                    basic.showString(\"P\")\n                }\n            }\n        }\n    }\n}\n// Initialize the game\nfunction initGame () {\n    playerX = 2\n    invaders = []\n    missiles = []\n    score = 0\n    gameOver = false\n    gamePaused = false\n    moveCounter = 0\n    canFireA = true\n    canFireB = true\n}\n// Move missiles up the screen\nfunction moveMissiles () {\n    // Move all missiles up\n    for (let j = 0; j <= missiles.length - 1; j++) {\n        if (missiles[j]) {\n            missiles[j][1]--;\n        }\n    }\n    for (let k = missiles.length - 1; k >= 0; k--) {\n        if (missiles[k][1] < 0) {\n            missiles.removeAt(k);\n        }\n    }\n}\n// Draw all game elements on screen\nfunction drawScreen () {\n    basic.clearScreen()\n    // Draw player\n    led.plot(playerX, PLAYER_Y)\n    // Draw invaders\n    for (let inv of invaders) {\n        led.plotBrightness(inv[0], inv[1], 150)\n    }\n    // Draw missiles\n    for (let m of missiles) {\n        led.plotBrightness(m[0], m[1], 100)\n    }\n}\n// Create a new invader at random position\nfunction spawnInvader () {\n    if (Math.randomRange(0, INVADER_SPAWN_RATE) == 0 && invaders.length < 10) {\n        invaders.push([Math.randomRange(0, 4), 0])\n    }\n}\nlet gamePaused = false\nlet lastButtonTime = 0\nlet bothPressed = false\nlet gameOver = false\nlet moveCounter = 0\nlet canFireB = false\nlet canFireA = false\nlet playerX = 0\nlet INVADER_SPAWN_RATE = 0\nlet INVADER_DROP_SPEED = 0\nlet PLAYER_Y = 0\nlet score = 0\nlet missiles: number[][] = []\nlet invaders: number[][] = []\n// Game constants\n// Player position (bottom row)\nPLAYER_Y = 4\n// Game update speed (ms)\nlet GAME_SPEED = 500\n// How often invaders move down\nINVADER_DROP_SPEED = 5\n// Higher = fewer invaders\nINVADER_SPAWN_RATE = 3\n// Game state variables\nplayerX = 2\ncanFireA = true\ncanFireB = true\n// Game intro\nbasic.showString(\"INVADERS\")\n// Main game loop\n"]]},{"start1":4613,"length1":606,"diffs":[[1,"    if (gameOver) {\n        showGameOver()\n        // Wait for button press to restart\n        while (!(input.buttonIsPressed(Button.A)) && !(input.buttonIsPressed(Button.B))) {\n            basic.pause(100)\n"]]},{"start1":4830,"length1":0,"diffs":[[1,"        initGame()\n"]]},{"start1":4855,"length1":52,"diffs":[[1,"    // Check for pause\n    checkPause()\n    if (gamePaused) {\n        basic.pause(100)\n        return;\n    }\n    // Check player controls and firing\n    checkButtonPresses()\n    // Game logic\n    spawnInvader()\n    moveInvaders()\n    moveMissiles()\n    checkCollisions()\n    // Update display\n    drawScreen()\n    // Game speed control\n    basic.pause(GAME_SPEED)\n})\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":29,"diffs":[[1,"    \"name\": \"space_invaders\",\n"]]},{"start1":98,"length1":109,"diffs":[[1,"        \"radio\": \"*\",\n        \"microphone\": \"*\"\n"]]},{"start1":529,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1743556579953,"editorVersion":"7.1.23","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1196,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</variable><variable id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</variable><variable id=\"djqsLhey[a5`No`$BM5H\">invaders</variable><variable id=\"4JQIaf:^rtt3(:U@6_kV\">inv</variable><variable id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</variable><variable id=\"2*/EZ9eDVxfsoSTcYQVW\">m</variable><variable id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</variable><variable id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</variable><variable id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</variable><variable id=\"/R0o98rnQOFC?Y_*e#ce\">i</variable><variable id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</variable><variable id=\"EM~a1J3w~w;Q.zMb1]=A\">j</variable><variable id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</variable><variable id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</variable><variable id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</variable><variable id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</variable><variable id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</variable><variable id=\"F|F+%21v8T;kUck#4DPD\">score</variable><variable id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</variable></variables><comment x=\"0\" y=\"6245\" w=\"480\" h=\"120\">\n"]]},{"start1":1270,"length1":41793,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let score = 0\" numlines=\"1\" declaredvars=\"score\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let missiles: number[][] = []\" numlines=\"1\" declaredvars=\"missiles\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let invaders: number[][] = []\" numlines=\"1\" declaredvars=\"invaders\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game constants\nPlayer position (bottom row)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game update speed (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</field><comment pinned=\"false\" h=\"80\" w=\"160\">How often invaders move down</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Higher = fewer invaders</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game state variables</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">Game intro</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">INVADERS</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"424\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main game loop</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"showGameOver\" functionid=\"iD-vd`E({C/7g0^CZfeT\"></mutation><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">Wait for button press to restart</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value></block></statement><next><block type=\"function_call\"><mutation name=\"initGame\" functionid=\"ADlD%@X3.FEk(0l]h^BJ\"></mutation></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"checkPause\" functionid=\"64P3pp#rGx4|drU*cAVm\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check for pause</comment><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value><statement name=\"DO0\"><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return;\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"checkButtonPresses\" functionid=\":FD#=a9dsC*tPyGdp6fd\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check player controls and firing</comment><next><block type=\"function_call\"><mutation name=\"spawnInvader\" functionid=\"S[*o9}h:%bYd2M7[OpBN\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Game logic</comment><next><block type=\"function_call\"><mutation name=\"moveInvaders\" functionid=\"`ge^Y21#5~3%QPV63p;]\"></mutation><next><block type=\"function_call\"><mutation name=\"moveMissiles\" functionid=\"p=iIKDzD(-oBI(=d(6sW\"></mutation><next><block type=\"function_call\"><mutation name=\"checkCollisions\" functionid=\"D^ypQR$}fPn0Htp%8.v$\"></mutation><next><block type=\"function_call\"><mutation name=\"drawScreen\" functionid=\"7=]P#_BS:F`vfgh3L~3,\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Update display</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">Game speed control</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1005\"><mutation name=\"drawScreen\" functionid=\"7=]P#_BS:F`vfgh3L~3,\"></mutation><field name=\"function_name\">drawScreen</field><comment pinned=\"false\" h=\"80\" w=\"160\">Draw all game elements on screen</comment><statement name=\"STACK\"><block type=\"device_clear_display\"><next><block type=\"device_plot\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw player</comment><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw invaders</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><statement name=\"DO\"><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></statement><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw missiles</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><statement name=\"DO\"><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1520\"><mutation name=\"spawnInvader\" functionid=\"S[*o9}h:%bYd2M7[OpBN\"></mutation><field name=\"function_name\">spawnInvader</field><comment pinned=\"false\" h=\"80\" w=\"160\">Create a new invader at random position</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><block type=\"variables_get\"><field name=\"VAR\" id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1827\"><mutation name=\"moveInvaders\" functionid=\"`ge^Y21#5~3%QPV63p;]\"></mutation><field name=\"function_name\">moveInvaders</field><comment pinned=\"false\" h=\"80\" w=\"160\">Move all invaders down the screen</comment><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"/R0o98rnQOFC?Y_*e#ce\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"invaders[i][1]++;\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Check if invader reached bottom (game over)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/R0o98rnQOFC?Y_*e#ce\">i</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"2454\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><field name=\"function_name\">fireMissile</field><comment pinned=\"false\" h=\"80\" w=\"160\">Fire a missile from player position</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"2761\"><mutation name=\"moveMissiles\" functionid=\"p=iIKDzD(-oBI(=d(6sW\"></mutation><field name=\"function_name\">moveMissiles</field><comment pinned=\"false\" h=\"80\" w=\"160\">Move missiles up the screen</comment><statement name=\"STACK\"><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move all missiles up</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"EM~a1J3w~w;Q.zMb1]=A\">j</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"EM~a1J3w~w;Q.zMb1]=A\">j</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"missiles[j][1]--;\" numlines=\"1\"></mutation></block></statement></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let k = missiles.length - 1; k &gt;= 0; k--) {\" line1=\"        if (missiles[k][1] &lt; 0) {\" line2=\"            missiles.removeAt(k);\" line3=\"        }\" line4=\"    }\" numlines=\"5\"></mutation></block></next></block></statement></block><block type=\"function_definition\" x=\"710\" y=\"2761\"><mutation name=\"checkCollisions\" functionid=\"D^ypQR$}fPn0Htp%8.v$\"></mutation><field name=\"function_name\">checkCollisions</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check for collisions between missiles and invaders</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let mi = missiles.length - 1; mi &gt;= 0; mi--) {\" line1=\"        for (let ii = invaders.length - 1; ii &gt;= 0; ii--) {\" line2=\"            if (missiles[mi] &amp;&amp; invaders[ii] &amp;&amp;\" line3=\"                missiles[mi][0] === invaders[ii][0] &amp;&amp; \" line4=\"                missiles[mi][1] === invaders[ii][1]) {\" line5=\"                \" line6=\"                // Remove missile and invader\" line7=\"                missiles.removeAt(mi);\" line8=\"                invaders.removeAt(ii);\" line9=\"                \" line10=\"                // Add to score\" line11=\"                score++;\" line12=\"                break;\" line13=\"            }\" line14=\"        }\" line15=\"    }\" numlines=\"16\"></mutation></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"3556\"><mutation name=\"checkPause\" functionid=\"64P3pp#rGx4|drU*cAVm\"></mutation><field name=\"function_name\">checkPause</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check for pause button combination (A+B)</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">P</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"4431\"><mutation name=\"checkButtonPresses\" functionid=\":FD#=a9dsC*tPyGdp6fd\"></mutation><field name=\"function_name\">checkButtonPresses</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check button presses using buttonIsPressed with state tracking</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check A button for firing</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check B button for firing</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Movement - with delay to prevent too fast movement</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">150</field></shadow></value></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">150</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"5666\"><mutation name=\"showGameOver\" functionid=\"iD-vd`E({C/7g0^CZfeT\"></mutation><field name=\"function_name\">showGameOver</field><comment pinned=\"false\" h=\"80\" w=\"160\">Show game over message and score</comment><statement name=\"STACK\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">GAME OVER</field></shadow></value><next><block type=\"device_print_message\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Score: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F|F+%21v8T;kUck#4DPD\">score</field></block></value></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"529\" y=\"5666\"><mutation name=\"initGame\" functionid=\"ADlD%@X3.FEk(0l]h^BJ\"></mutation><field name=\"function_name\">initGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">Initialize the game</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F|F+%21v8T;kUck#4DPD\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":1192,"length1":0,"diffs":[[1,"\n// --- Forever loop for Switch ---\n// The forever loop is now simpler, mainly handling the button\n"]]},{"start1":1374,"length1":0,"diffs":[[1,"\n    // Check for switch press (falling edge)\n"]]},{"start1":1468,"length1":0,"diffs":[[1,"        // Optional switch debounce\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":337,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1743555985140,"editorVersion":"7.1.23","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</variable><variable id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</variable><variable id=\"djqsLhey[a5`No`$BM5H\">invaders</variable><variable id=\"4JQIaf:^rtt3(:U@6_kV\">inv</variable><variable id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</variable><variable id=\"2*/EZ9eDVxfsoSTcYQVW\">m</variable><variable id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</variable><variable id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</variable><variable id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</variable><variable id=\"/R0o98rnQOFC?Y_*e#ce\">i</variable><variable id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</variable><variable id=\"EM~a1J3w~w;Q.zMb1]=A\">j</variable><variable id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</variable><variable id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</variable><variable id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</variable><variable id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</variable><variable id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</variable><variable id=\"F|F+%21v8T;kUck#4DPD\">score</variable><variable id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</variable></variables><comment x=\"20\" y=\"6265\" w=\"480\" h=\"120\">\nSpace Invaders for micro:bit - TypeScript version\nUse A to move left, B to move right, A+B to pause\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let score = 0\" numlines=\"1\" declaredvars=\"score\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let missiles: number[][] = []\" numlines=\"1\" declaredvars=\"missiles\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let invaders: number[][] = []\" numlines=\"1\" declaredvars=\"invaders\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game constants\nPlayer position (bottom row)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game update speed (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</field><comment pinned=\"false\" h=\"80\" w=\"160\">How often invaders move down</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Higher = fewer invaders</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><comment pinned=\"false\" h=\"80\" w=\"160\">Game state variables</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">Game intro</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">INVADERS</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"444\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main game loop</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"showGameOver\" functionid=\"iD-vd`E({C/7g0^CZfeT\"></mutation><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">Wait for button press to restart</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value></block></statement><next><block type=\"function_call\"><mutation name=\"initGame\" functionid=\"ADlD%@X3.FEk(0l]h^BJ\"></mutation></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"checkPause\" functionid=\"64P3pp#rGx4|drU*cAVm\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check for pause</comment><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value><statement name=\"DO0\"><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return;\" numlines=\"1\"></mutation></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"checkButtonPresses\" functionid=\":FD#=a9dsC*tPyGdp6fd\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check player controls and firing</comment><next><block type=\"function_call\"><mutation name=\"spawnInvader\" functionid=\"S[*o9}h:%bYd2M7[OpBN\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Game logic</comment><next><block type=\"function_call\"><mutation name=\"moveInvaders\" functionid=\"`ge^Y21#5~3%QPV63p;]\"></mutation><next><block type=\"function_call\"><mutation name=\"moveMissiles\" functionid=\"p=iIKDzD(-oBI(=d(6sW\"></mutation><next><block type=\"function_call\"><mutation name=\"checkCollisions\" functionid=\"D^ypQR$}fPn0Htp%8.v$\"></mutation><next><block type=\"function_call\"><mutation name=\"drawScreen\" functionid=\"7=]P#_BS:F`vfgh3L~3,\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Update display</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">Game speed control</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">NaN</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1WOg8rmI_Bq;7@1?]|9K\">GAME_SPEED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1025\"><mutation name=\"drawScreen\" functionid=\"7=]P#_BS:F`vfgh3L~3,\"></mutation><field name=\"function_name\">drawScreen</field><comment pinned=\"false\" h=\"80\" w=\"160\">Draw all game elements on screen</comment><statement name=\"STACK\"><block type=\"device_clear_display\"><next><block type=\"device_plot\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw player</comment><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw invaders</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><statement name=\"DO\"><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"4JQIaf:^rtt3(:U@6_kV\">inv</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></statement><next><block type=\"pxt_controls_for_of\"><comment pinned=\"false\" h=\"80\" w=\"160\">Draw missiles</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><statement name=\"DO\"><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"2*/EZ9eDVxfsoSTcYQVW\">m</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1540\"><mutation name=\"spawnInvader\" functionid=\"S[*o9}h:%bYd2M7[OpBN\"></mutation><field name=\"function_name\">spawnInvader</field><comment pinned=\"false\" h=\"80\" w=\"160\">Create a new invader at random position</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><block type=\"variables_get\"><field name=\"VAR\" id=\":M-L6KHON7C|eH.sYFeY\">INVADER_SPAWN_RATE</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1847\"><mutation name=\"moveInvaders\" functionid=\"`ge^Y21#5~3%QPV63p;]\"></mutation><field name=\"function_name\">moveInvaders</field><comment pinned=\"false\" h=\"80\" w=\"160\">Move all invaders down the screen</comment><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GWfWi-TcKIo0?QmDA2|8\">INVADER_DROP_SPEED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"/R0o98rnQOFC?Y_*e#ce\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"invaders[i][1]++;\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Check if invader reached bottom (game over)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/R0o98rnQOFC?Y_*e#ce\">i</field></block></value></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"2474\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><field name=\"function_name\">fireMissile</field><comment pinned=\"false\" h=\"80\" w=\"160\">Fire a missile from player position</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><value name=\"value\"><block type=\"lists_create_with\"><mutation items=\"2\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"ADD1\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}4N?`/Eeq_IU6_0#_%4Z\">PLAYER_Y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"2781\"><mutation name=\"moveMissiles\" functionid=\"p=iIKDzD(-oBI(=d(6sW\"></mutation><field name=\"function_name\">moveMissiles</field><comment pinned=\"false\" h=\"80\" w=\"160\">Move missiles up the screen</comment><statement name=\"STACK\"><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move all missiles up</comment><value name=\"VAR\"><block type=\"variables_get_reporter\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VAR\" id=\"EM~a1J3w~w;Q.zMb1]=A\">j</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"EM~a1J3w~w;Q.zMb1]=A\">j</field></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"missiles[j][1]--;\" numlines=\"1\"></mutation></block></statement></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let k = missiles.length - 1; k &gt;= 0; k--) {\" line1=\"        if (missiles[k][1] &lt; 0) {\" line2=\"            missiles.removeAt(k);\" line3=\"        }\" line4=\"    }\" numlines=\"5\"></mutation></block></next></block></statement></block><block type=\"function_definition\" x=\"730\" y=\"2781\"><mutation name=\"checkCollisions\" functionid=\"D^ypQR$}fPn0Htp%8.v$\"></mutation><field name=\"function_name\">checkCollisions</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check for collisions between missiles and invaders</comment><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let mi = missiles.length - 1; mi &gt;= 0; mi--) {\" line1=\"        for (let ii = invaders.length - 1; ii &gt;= 0; ii--) {\" line2=\"            if (missiles[mi] &amp;&amp; invaders[ii] &amp;&amp;\" line3=\"                missiles[mi][0] === invaders[ii][0] &amp;&amp; \" line4=\"                missiles[mi][1] === invaders[ii][1]) {\" line5=\"                \" line6=\"                // Remove missile and invader\" line7=\"                missiles.removeAt(mi);\" line8=\"                invaders.removeAt(ii);\" line9=\"                \" line10=\"                // Add to score\" line11=\"                score++;\" line12=\"                break;\" line13=\"            }\" line14=\"        }\" line15=\"    }\" numlines=\"16\"></mutation></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"3576\"><mutation name=\"checkPause\" functionid=\"64P3pp#rGx4|drU*cAVm\"></mutation><field name=\"function_name\">checkPause</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check for pause button combination (A+B)</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"KnIS5Ewm.~rU7u_J_2D~\">bothPressed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!md!)|CkQViPg:N0d1`4\">lastButtonTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">P</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"4451\"><mutation name=\"checkButtonPresses\" functionid=\":FD#=a9dsC*tPyGdp6fd\"></mutation><field name=\"function_name\">checkButtonPresses</field><comment pinned=\"false\" h=\"80\" w=\"160\">Check button presses using buttonIsPressed with state tracking</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check A button for firing</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check B button for firing</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"fireMissile\" functionid=\"k~@}ctJ=VT4#Q#yP)o=B\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Movement - with delay to prevent too fast movement</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.A</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">150</field></shadow></value></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.B</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">150</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"5686\"><mutation name=\"showGameOver\" functionid=\"iD-vd`E({C/7g0^CZfeT\"></mutation><field name=\"function_name\">showGameOver</field><comment pinned=\"false\" h=\"80\" w=\"160\">Show game over message and score</comment><statement name=\"STACK\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">GAME OVER</field></shadow></value><next><block type=\"device_print_message\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Score: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F|F+%21v8T;kUck#4DPD\">score</field></block></value></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"549\" y=\"5686\"><mutation name=\"initGame\" functionid=\"ADlD%@X3.FEk(0l]h^BJ\"></mutation><field name=\"function_name\">initGame</field><comment pinned=\"false\" h=\"80\" w=\"160\">Initialize the game</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"CR`g1N4?OB6HxF%]}O3A\">playerX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"djqsLhey[a5`No`$BM5H\">invaders</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HL9eZxP!KR0@qGr0Y(Hm\">missiles</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"0\" horizontalafter=\"3\"></mutation></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F|F+%21v8T;kUck#4DPD\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"h;`)UY2=Uk9|~@=/of_%\">gameOver</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"CtmIhjX6h67D#sYHeil6\">gamePaused</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B_}5y=uTWLI_bFcOfFKj\">moveCounter</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%h^e/1/O@k=[:R$ABbAp\">canFireA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7*IDCvk_QXHYQUn@sHI/\">canFireB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"","custom.ts":"\n/**\n* Use this file to define custom functions and blocks.\n* Read more at https://makecode.microbit.org/blocks/custom\n*/\n\nenum MyEnum {\n    //% block=\"one\"\n    One,\n    //% block=\"two\"\n    Two\n}\n\n/**\n * Custom blocks\n */\n//% weight=100 color=#0fbc11 icon=\"\"\nnamespace custom {\n    /**\n     * TODO: describe your function here\n     * @param n describe parameter here, eg: 5\n     * @param s describe parameter here, eg: \"Hello\"\n     * @param e describe parameter here\n     */\n    //% block\n    export function foo(n: number, s: string, e: MyEnum): void {\n        // Add code here\n    }\n\n    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function fib(value: number): number {\n        return value <= 1 ? value : fib(value -1) + fib(value - 2);\n    }\n}\n","pxt.json":"{\n    \"name\": \"space_invaders\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\",\n        \"custom.ts\"\n    ],\n    \"targetVersions\": {\n        \"branch\": \"v7.0.57\",\n        \"tag\": \"v7.0.57\",\n        \"commits\": \"https://github.com/microsoft/pxt-microbit/commits/1a9e10ee33883477990f6bc7451dae38318586e3\",\n        \"target\": \"7.0.57\",\n        \"pxt\": \"11.1.13\"\n    },\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1743556614244}